<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Data Sources | Women’s and Minorities’ Working Opportunities in New York City from 1850 to 1940</title>
  <meta name="description" content="Chapter 2 Data Sources | Women’s and Minorities’ Working Opportunities in New York City from 1850 to 1940" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Data Sources | Women’s and Minorities’ Working Opportunities in New York City from 1850 to 1940" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Data Sources | Women’s and Minorities’ Working Opportunities in New York City from 1850 to 1940" />
  
  
  

<meta name="author" content="Luwei Zhang, Guangyu Wu, Jingxiang Zhang" />


<meta name="date" content="2021-12-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data-transformation.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NYC-Minority-Working-Conditions</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data Sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#introduction-of-data-source"><i class="fa fa-check"></i><b>2.1</b> Introduction of Data Source</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#data-generation-process"><i class="fa fa-check"></i><b>2.2</b> Data Generation Process</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#data-extraction-workflow"><i class="fa fa-check"></i><b>2.3</b> Data Extraction Workflow</a></li>
<li class="chapter" data-level="2.4" data-path="data-sources.html"><a href="data-sources.html#choice-of-variables"><i class="fa fa-check"></i><b>2.4</b> Choice of Variables</a></li>
<li class="chapter" data-level="2.5" data-path="data-sources.html"><a href="data-sources.html#issues-with-the-data"><i class="fa fa-check"></i><b>2.5</b> Issues with the Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data Transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#import-packages-and-dataset"><i class="fa fa-check"></i><b>3.1</b> Import Packages and Dataset</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#reduce-cardinality-and-decode-data"><i class="fa fa-check"></i><b>3.2</b> Reduce Cardinality and Decode Data</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#handling-na-special-cases-and-enforce-data-types"><i class="fa fa-check"></i><b>3.3</b> Handling N/A, Special Cases and Enforce Data Types</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing Values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#working-conditions"><i class="fa fa-check"></i><b>5.1</b> Working Conditions</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#gender-and-employment"><i class="fa fa-check"></i><b>5.1.1</b> Gender and Employment</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#race-and-employment"><i class="fa fa-check"></i><b>5.1.2</b> Race and Employment</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#education-and-employment"><i class="fa fa-check"></i><b>5.2</b> Education and Employment</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#time-series-and-employment"><i class="fa fa-check"></i><b>5.3</b> Time series and Employment</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#conclusion"><i class="fa fa-check"></i><b>5.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="animated-bar-chart.html"><a href="animated-bar-chart.html"><i class="fa fa-check"></i><b>6</b> Animated bar chart</a></li>
<li class="chapter" data-level="7" data-path="conclusion-1.html"><a href="conclusion-1.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a>
<ul>
<li class="chapter" data-level="7.1" data-path="conclusion-1.html"><a href="conclusion-1.html#summary"><i class="fa fa-check"></i><b>7.1</b> Summary</a></li>
<li class="chapter" data-level="7.2" data-path="conclusion-1.html"><a href="conclusion-1.html#suggestion"><i class="fa fa-check"></i><b>7.2</b> Suggestion</a></li>
<li class="chapter" data-level="7.3" data-path="conclusion-1.html"><a href="conclusion-1.html#look-forward"><i class="fa fa-check"></i><b>7.3</b> Look Forward</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Women’s and Minorities’ Working Opportunities in New York City from 1850 to 1940</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-sources" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Data Sources</h1>
<div id="introduction-of-data-source" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Introduction of Data Source</h2>
<p>IPUMS is acronym for “Integrated Public Use Microdata Series”, one of the world’s largest microdata database. It collects censuses and surveys around the world and throughout time, documents them thoroughly, and hosts the datasets in standardized formats for research and public access.</p>
<p>In this project, we use IPUMS USA<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>, which is part of the database that covers United States population using decennial census records. The whole database for IPUMS USA contains 191,983,898 historical person records for the year 1850 to 1940, and 180,755,919 unique person records for censuses after 1940. Though our analysis is focused on the NYC population during its important transition period at the turn of 20th century, the methodology and code we developed and open-sourced can be easily generalized to the analysis of modern day census data as well as for other geographical areas.</p>
</div>
<div id="data-generation-process" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Data Generation Process</h2>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-4"></span>
<img src="assets/collection_process.png" alt="Data Generation Process" width="100%" />
<p class="caption">
Figure 2.1: Data Generation Process
</p>
</div>
<p>The data were originally collected by census takers, who were recruited and trained by the Census Bureau to go door to door and collect the demographic information. The raw entry are logged on sheets of paper and stored in archives across the country. With recent development and wide-spread of digitization technology, many of the census records are scanned and digitized. Furthermore, volunteers and commercial teams have been transcribing the records based on the digital scans to convert the record into a fully machine-readable format. National archive and organization like Ancestry Library have taken on such transcription effort. Finally, the IPUMS project, along with many partners in the area, clean the transcribed data, harmonize the variables across different years, and encode the data in a standard coding system for efficient storage and retrieval. We are able to analyze the data we have today thanks to the awe-inspiring work of all the parties involved in this long journey of data generation process.</p>
</div>
<div id="data-extraction-workflow" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Data Extraction Workflow</h2>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-5"></span>
<img src="assets/extraction_process.png" alt="Data Extraction Workflow" width="100%" />
<p class="caption">
Figure 2.2: Data Extraction Workflow
</p>
</div>
<p>The whole IPUMS USA database is huge, so we need to create an extract based on the scope of our project. The first step is to select samples, which specifies from which year and what percentage of datasets to extract. Second step is to select variables, which are indexed by topical and alphabetical order. Finally, we add a filter based on city variable to limit the scope to NYC, since the data for the whole country is more than 70 GB and not relevant to our project.</p>
</div>
<div id="choice-of-variables" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Choice of Variables</h2>
<p>We choose the variables based on 3 criteria: relevancy, availability, usability. We first identify 57 variables that describe demographic data and / or contain information about working condition and job opportunity (relevancy). Then, we keep 33 variables that are recorded in multiple census years in our scope (availability). Finally, we shortlist 25 variables that are well-documented and have low missing value rate (usability). Among these variables, 7 are numerical variables, 16 are categorical (nominal) variables, the other two are temporal (year) and spatial (city), respectively.</p>
<p>There are 333,959 records in the dataset we analyze, which is an one-percent random sample of the full-count data. The full-count data is larger than the RAM of our computer thus we conduct sampling, but the code and analysis is applicable to the full-count given more computing power.</p>
</div>
<div id="issues-with-the-data" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Issues with the Data</h2>
<p>The IPUMS USA database is systematically cleaned and edited, thus most data quality issues are dealt with and marked with data quality flags. For our specific use case, we have encountered two data issues. First, some categorical fields have very infrequent entries that are not relevant to our analysis. In other words, the categorization are too detailed and add little to our faceted visualizations. Second, variables like occupations and industries have a high cardinality and the frequencies of each value are about evenly distributed. For these variables, we need to cluster values into meaningful groups to make comprehensible graphs. These two data issues are addressed in the next chapter - data cleaning.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>Steven Ruggles, Sarah Flood, Sophia Foster, Ronald Goeken, Jose Pacas, Megan Schouweiler and Matthew Sobek. IPUMS USA: Version 11.0 [dataset]. Minneapolis, MN: IPUMS, 2021.
<a href="https://doi.org/10.18128/D010.V11.0" class="uri">https://doi.org/10.18128/D010.V11.0</a><a href="data-sources.html#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-transformation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/EDAV-final-project-group23/EDAV-Final-Group23/edit/main/02-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/EDAV-final-project-group23/EDAV-Final-Group23/blob/main/02-data.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
